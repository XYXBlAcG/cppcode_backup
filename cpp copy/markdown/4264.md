### 解答 4.2.6.4

定义： $f(i,j)$ 表示前 $i$ 所学校派出了小艇，第 $i$ 所学校派出了 $j $ 艘小艇的方案数.

方程：
$$
f(i,j)=\sum\limits^{\min(b_{i-1},j-1)}_{k=a_{j-1}}f(i-1,k)\\
=sum(i-1,\min(b_{i-1},j-1))-sum(i-1,a_{i-1}-1)
$$
使用前缀和减常数的方法解决.

将 $a_1$ 和 $b_1$ 的区间上填上 $1$ ，其他为 $0$ .

之后对于每个 $a_i$ 和 $b_i$ ，进行一个前缀和的算，对于 $i^k$ 的求和，使用伯努利数的求解方式.

最后的答案是 $a_n$ 到 $b_n$ 区间的和.