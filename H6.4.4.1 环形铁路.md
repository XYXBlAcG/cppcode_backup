### H6.4.4.1 环形铁路

令 $a_i$ 表示每个仓库的货物数量， $\overline{a} $ 表示所有仓库货物数量的平均值。

定义源点为 $s$ ，汇点为 $t$ 。

从 $s$ 到每个 $i$ 连一条容量为 $a_i$ 的边，费用为 $0$ 。

从每个 $i$ 到 $t$ 连一条容量为 $\overline{a}$ 的边，费用为 $0$ 。

对于每个 $i$ ，向 $i-1$ 和 $i+1$ 连一条容量为 $\infty$ 的边，费用为 $1$ 。如 $i-1=0$ 向 $n$ 连边，如 $i+1=n+1$ 向 $1$ 连边。

跑最小费用最大流。