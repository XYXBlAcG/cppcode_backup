# 树上硬币翻面

定义： $f(i,j,k)$ 表示当前在节点 $i$ 将其子树全部翻成反面朝上的最小次数， $p_i$ 是否翻转，用 $j$ 表示， $i$ 是否翻转，用 $k$ 表示。
$g(i,j,k)$ 表示当前在节点 $i$ 将他自己和他的弟弟森林所覆盖的区域全部翻成反面朝上的最小次数， $p_i$ 是否翻转，用 $j$ 表示， $i$ 和弟弟森林翻转次数为偶数还是奇数（0/1），用 $k$ 表示。

$son(i)$ 表示 $i$ 的biggest儿子。

$bro(i)$ 表示 $i$ 的biggest弟弟。

方程：
$$
\\ f(i,0,0)=g(son(i),0,0)
\\ f(i,0,1)=g(son(i),1,1)+1
\\ f(i,1,0)=g(son(i),1,0)
\\ f(i,1,1)=g(son(i),0,1)+1
\\
\\ g(i,0,0)=\min(f(i,1,0)+g(bro(i),1,0),f(i,0,0)+g(bro(i),0,0))
\\ g(i,0,1)=\min(f(i,1,1)+g(bro(i),0,1),f(i,0,1)+g(bro(i),1,1))
\\ g(i,1,0)=\min(f(i,1,0)+g(bro(i),1,0),f(i,0,0)+g(bro(i),0,0))
\\ g(i,1,1)=\min(f(i,1,1)+g(bro(i),0,1),f(i,0,1)+g(bro(i),1,1))
$$
边界：

$g(0,1,k)=0,g(0,0,k)=\infty$

答案：
$\min(f(1,0,1)+1,f(1,0,0))$
